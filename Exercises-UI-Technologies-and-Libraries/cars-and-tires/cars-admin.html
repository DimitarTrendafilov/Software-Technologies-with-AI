<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - Cars & Tires Marketplace</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --success-color: #27ae60;
            --warning-color: #f39c12;
            --danger-color: #e74c3c;
            --light-bg: #ecf0f1;
            --dark-text: #2c3e50;
            --sidebar-width: 250px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: var(--dark-text);
            background-color: #f8f9fa;
            overflow-x: hidden;
        }

        /* Header */
        .admin-header {
            background: linear-gradient(135deg, var(--primary-color) 0%, #34495e 100%);
            color: white;
            padding: 1rem 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1030;
        }

        .admin-header h1 {
            font-size: 1.5rem;
            margin: 0;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .admin-header .user-info {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .admin-header .user-avatar {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--secondary-color), #2980b9);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }

        /* Sidebar Navigation */
        .sidebar {
            position: fixed;
            top: 73px;
            left: 0;
            width: var(--sidebar-width);
            height: calc(100vh - 73px);
            background: white;
            box-shadow: 2px 0 10px rgba(0,0,0,0.1);
            overflow-y: auto;
            z-index: 1020;
            transition: transform 0.3s ease;
        }

        .sidebar-nav {
            list-style: none;
            padding: 1rem 0;
        }

        .sidebar-nav li {
            margin: 0.5rem 0;
        }

        .sidebar-nav a {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem 1.5rem;
            color: var(--dark-text);
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            position: relative;
        }

        .sidebar-nav a::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 4px;
            background: var(--secondary-color);
            transform: scaleY(0);
            transition: transform 0.3s ease;
        }

        .sidebar-nav a:hover {
            background-color: var(--light-bg);
            color: var(--secondary-color);
        }

        .sidebar-nav a.active {
            background-color: rgba(52, 152, 219, 0.1);
            color: var(--secondary-color);
            font-weight: 600;
        }

        .sidebar-nav a.active::before {
            transform: scaleY(1);
        }

        .sidebar-nav a i {
            font-size: 1.3rem;
        }

        /* Main Content */
        .main-content {
            margin-left: var(--sidebar-width);
            margin-top: 73px;
            padding: 2rem;
            min-height: calc(100vh - 73px);
        }

        .content-header {
            margin-bottom: 2rem;
        }

        .content-header h2 {
            color: var(--primary-color);
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .content-header p {
            color: #7f8c8d;
            margin: 0;
        }

        /* Stats Cards */
        .stats-row {
            margin-bottom: 2rem;
        }

        .stat-card {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }

        .stat-card .stat-icon {
            width: 60px;
            height: 60px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            margin-bottom: 1rem;
        }

        .stat-card.cars .stat-icon {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
        }

        .stat-card.tires .stat-icon {
            background: linear-gradient(135deg, #27ae60, #229954);
            color: white;
        }

        .stat-card h3 {
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary-color);
            margin: 0;
        }

        .stat-card p {
            color: #7f8c8d;
            margin: 0;
            font-size: 0.9rem;
        }

        /* Action Bar */
        .action-bar {
            background: white;
            padding: 1rem 1.5rem;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .btn-add {
            background: linear-gradient(135deg, var(--success-color), #229954);
            color: white;
            border: none;
            padding: 0.7rem 1.5rem;
            font-weight: 600;
            border-radius: 8px;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s ease;
        }

        .btn-add:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(39, 174, 96, 0.3);
        }

        .search-box {
            flex-grow: 1;
            max-width: 400px;
        }

        .search-box input {
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            padding: 0.6rem 1rem 0.6rem 2.5rem;
            width: 100%;
            transition: all 0.3s ease;
        }

        .search-box input:focus {
            border-color: var(--secondary-color);
            box-shadow: 0 0 0 0.2rem rgba(52, 152, 219, 0.25);
            outline: none;
        }

        .search-box {
            position: relative;
        }

        .search-box i {
            position: absolute;
            left: 0.8rem;
            top: 50%;
            transform: translateY(-50%);
            color: #7f8c8d;
            pointer-events: none;
        }

        /* Item Cards */
        .items-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 1.5rem;
        }

        .item-admin-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            position: relative;
        }

        .item-admin-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }

        .item-admin-card .card-header-custom {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 3rem;
        }

        .item-admin-card .card-body-custom {
            padding: 1.5rem;
        }

        .item-admin-card h5 {
            color: var(--primary-color);
            font-weight: bold;
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }

        .item-admin-card .item-price {
            color: var(--danger-color);
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 1rem;
        }

        .item-admin-card .item-info {
            color: #7f8c8d;
            font-size: 0.9rem;
            margin-bottom: 1rem;
        }

        .item-admin-card .item-info div {
            margin-bottom: 0.3rem;
        }

        .item-admin-card .item-info i {
            color: var(--secondary-color);
            margin-right: 0.5rem;
            width: 20px;
        }

        /* Action Buttons */
        .action-buttons {
            display: flex;
            gap: 0.5rem;
            padding-top: 1rem;
            border-top: 1px solid #e0e0e0;
        }

        .btn-icon {
            flex: 1;
            padding: 0.6rem;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
        }

        .btn-view {
            background: linear-gradient(135deg, var(--secondary-color), #2980b9);
            color: white;
        }

        .btn-view:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.3);
        }

        .btn-edit {
            background: linear-gradient(135deg, var(--warning-color), #e67e22);
            color: white;
        }

        .btn-edit:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(243, 156, 18, 0.3);
        }

        .btn-delete {
            background: linear-gradient(135deg, var(--danger-color), #c0392b);
            color: white;
        }

        .btn-delete:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(231, 76, 60, 0.3);
        }

        /* Modals */
        .modal-content {
            border: none;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }

        .modal-header {
            background: linear-gradient(135deg, var(--primary-color), #34495e);
            color: white;
            border-radius: 15px 15px 0 0;
            padding: 1.5rem;
        }

        .modal-header h5 {
            margin: 0;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .modal-header .btn-close {
            filter: brightness(0) invert(1);
        }

        .modal-body {
            padding: 2rem;
        }

        .modal-footer {
            padding: 1rem 2rem;
            border-top: 1px solid #e0e0e0;
        }

        .form-label {
            font-weight: 600;
            color: var(--dark-text);
            margin-bottom: 0.5rem;
        }

        .form-control, .form-select {
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            padding: 0.6rem;
            transition: all 0.3s ease;
        }

        .form-control:focus, .form-select:focus {
            border-color: var(--secondary-color);
            box-shadow: 0 0 0 0.2rem rgba(52, 152, 219, 0.25);
        }

        .btn-confirm {
            background: linear-gradient(135deg, var(--success-color), #229954);
            color: white;
            border: none;
            padding: 0.7rem 2rem;
            font-weight: 600;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .btn-confirm:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(39, 174, 96, 0.3);
        }

        .btn-cancel {
            background: #95a5a6;
            color: white;
            border: none;
            padding: 0.7rem 2rem;
            font-weight: 600;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .btn-cancel:hover {
            background: #7f8c8d;
        }

        /* Details Modal */
        .detail-row {
            display: flex;
            padding: 0.8rem 0;
            border-bottom: 1px solid #e0e0e0;
        }

        .detail-row:last-child {
            border-bottom: none;
        }

        .detail-label {
            font-weight: 600;
            color: var(--primary-color);
            width: 150px;
            flex-shrink: 0;
        }

        .detail-value {
            color: #555;
        }

        /* Delete Confirmation Modal */
        .delete-modal .modal-header {
            background: linear-gradient(135deg, var(--danger-color), #c0392b);
        }

        .delete-warning {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 10px;
            padding: 1rem;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .delete-warning i {
            font-size: 2rem;
            color: #856404;
        }

        /* Toast Notifications */
        .toast-container {
            position: fixed;
            top: 90px;
            right: 20px;
            z-index: 1050;
        }

        .toast {
            min-width: 300px;
            border: none;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                transform: translateX(400px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .toast-header {
            border-radius: 10px 10px 0 0;
            font-weight: 600;
        }

        .toast-success .toast-header {
            background: linear-gradient(135deg, var(--success-color), #229954);
            color: white;
        }

        .toast-danger .toast-header {
            background: linear-gradient(135deg, var(--danger-color), #c0392b);
            color: white;
        }

        .toast-info .toast-header {
            background: linear-gradient(135deg, var(--secondary-color), #2980b9);
            color: white;
        }

        .toast-header .btn-close {
            filter: brightness(0) invert(1);
        }

        /* No Items */
        .no-items {
            text-align: center;
            padding: 4rem 2rem;
            color: #95a5a6;
        }

        .no-items i {
            font-size: 5rem;
            margin-bottom: 1rem;
        }

        .no-items h4 {
            margin-bottom: 0.5rem;
        }

        /* Loading Spinner */
        .spinner-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2000;
        }

        .spinner-overlay.active {
            display: flex;
        }

        /* Responsive */
        @media (max-width: 992px) {
            .sidebar {
                transform: translateX(-100%);
            }

            .sidebar.show {
                transform: translateX(0);
            }

            .main-content {
                margin-left: 0;
            }

            .items-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 576px) {
            .action-bar {
                flex-direction: column;
            }

            .search-box {
                max-width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="admin-header">
        <div class="container-fluid">
            <div class="d-flex justify-content-between align-items-center">
                <h1>
                    <i class="bi bi-speedometer2"></i>
                    Admin Panel
                </h1>
                <div class="user-info">
                    <span class="d-none d-md-inline">Administrator</span>
                    <div class="user-avatar">
                        <i class="bi bi-person-fill"></i>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Sidebar Navigation -->
    <aside class="sidebar" id="sidebar">
        <ul class="sidebar-nav">
            <li>
                <a href="#" class="active" onclick="switchTab('cars'); return false;">
                    <i class="bi bi-car-front-fill"></i>
                    <span>Cars Management</span>
                </a>
            </li>
            <li>
                <a href="#" onclick="switchTab('tires'); return false;">
                    <i class="bi bi-circle-fill"></i>
                    <span>Tires Management</span>
                </a>
            </li>
            <li>
                <a href="cars.html">
                    <i class="bi bi-house-fill"></i>
                    <span>View Marketplace</span>
                </a>
            </li>
        </ul>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Cars Section -->
        <section id="carsSection">
            <div class="content-header">
                <h2><i class="bi bi-car-front-fill"></i> Cars Management</h2>
                <p>Manage all cars in the marketplace</p>
            </div>

            <div class="stats-row row">
                <div class="col-md-6">
                    <div class="stat-card cars">
                        <div class="stat-icon">
                            <i class="bi bi-car-front-fill"></i>
                        </div>
                        <h3 id="totalCars">0</h3>
                        <p>Total Cars</p>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="stat-card tires">
                        <div class="stat-icon">
                            <i class="bi bi-fire"></i>
                        </div>
                        <h3 id="hotCars">0</h3>
                        <p>Hot Deals</p>
                    </div>
                </div>
            </div>

            <div class="action-bar">
                <button class="btn-add" onclick="openAddCarModal()">
                    <i class="bi bi-plus-circle"></i>
                    Add New Car
                </button>
                <div class="search-box">
                    <i class="bi bi-search"></i>
                    <input type="text" id="carsSearchInput" placeholder="Search cars..." onkeyup="filterCars()">
                </div>
            </div>

            <div id="carsGrid" class="items-grid"></div>
        </section>

        <!-- Tires Section -->
        <section id="tiresSection" style="display: none;">
            <div class="content-header">
                <h2><i class="bi bi-circle-fill"></i> Tires Management</h2>
                <p>Manage all tires in the marketplace</p>
            </div>

            <div class="stats-row row">
                <div class="col-md-6">
                    <div class="stat-card tires">
                        <div class="stat-icon">
                            <i class="bi bi-circle-fill"></i>
                        </div>
                        <h3 id="totalTires">0</h3>
                        <p>Total Tires</p>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="stat-card cars">
                        <div class="stat-icon">
                            <i class="bi bi-fire"></i>
                        </div>
                        <h3 id="hotTires">0</h3>
                        <p>Hot Deals</p>
                    </div>
                </div>
            </div>

            <div class="action-bar">
                <button class="btn-add" onclick="openAddTireModal()">
                    <i class="bi bi-plus-circle"></i>
                    Add New Tire
                </button>
                <div class="search-box">
                    <i class="bi bi-search"></i>
                    <input type="text" id="tiresSearchInput" placeholder="Search tires..." onkeyup="filterTires()">
                </div>
            </div>

            <div id="tiresGrid" class="items-grid"></div>
        </section>
    </main>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Loading Spinner -->
    <div class="spinner-overlay" id="spinnerOverlay">
        <div class="spinner-border text-light" style="width: 4rem; height: 4rem;" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
    </div>

    <!-- Car Details Modal -->
    <div class="modal fade" id="carDetailsModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5><i class="bi bi-info-circle-fill me-2"></i>Car Details</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body" id="carDetailsContent"></div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-cancel" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Add/Edit Car Modal -->
    <div class="modal fade" id="carFormModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 id="carFormTitle"><i class="bi bi-plus-circle me-2"></i>Add New Car</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="carForm">
                        <input type="hidden" id="carId">
                        <div class="row g-3">
                            <div class="col-md-6">
                                <label class="form-label">Brand <span class="text-danger">*</span></label>
                                <input type="text" class="form-control" id="carBrand" required>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">Model <span class="text-danger">*</span></label>
                                <input type="text" class="form-control" id="carModel" required>
                            </div>
                            <div class="col-md-4">
                                <label class="form-label">Year <span class="text-danger">*</span></label>
                                <input type="number" class="form-control" id="carYear" min="1990" max="2026" required>
                            </div>
                            <div class="col-md-4">
                                <label class="form-label">Price ($) <span class="text-danger">*</span></label>
                                <input type="number" class="form-control" id="carPrice" min="0" required>
                            </div>
                            <div class="col-md-4">
                                <label class="form-label">Kilometers <span class="text-danger">*</span></label>
                                <input type="number" class="form-control" id="carKilometers" min="0" required>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">Color <span class="text-danger">*</span></label>
                                <input type="text" class="form-control" id="carColor" required>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">Transmission <span class="text-danger">*</span></label>
                                <select class="form-select" id="carTransmission" required>
                                    <option value="">Select...</option>
                                    <option value="Automatic">Automatic</option>
                                    <option value="Manual">Manual</option>
                                </select>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">Fuel Type <span class="text-danger">*</span></label>
                                <select class="form-select" id="carFuelType" required>
                                    <option value="">Select...</option>
                                    <option value="Gasoline">Gasoline</option>
                                    <option value="Diesel">Diesel</option>
                                    <option value="Electric">Electric</option>
                                    <option value="Hybrid">Hybrid</option>
                                </select>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">Engine <span class="text-danger">*</span></label>
                                <input type="text" class="form-control" id="carEngine" placeholder="e.g., 2.0L" required>
                            </div>
                            <div class="col-12">
                                <label class="form-label">Description</label>
                                <textarea class="form-control" id="carDescription" rows="3"></textarea>
                            </div>
                            <div class="col-12">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="carIsHot">
                                    <label class="form-check-label" for="carIsHot">
                                        <i class="bi bi-fire text-danger"></i> Mark as Hot Deal
                                    </label>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-cancel" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-confirm" onclick="submitCarForm()">
                        <i class="bi bi-check-circle me-1"></i> Confirm
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Delete Car Confirmation Modal -->
    <div class="modal fade delete-modal" id="deleteCarModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5><i class="bi bi-exclamation-triangle-fill me-2"></i>Delete Car</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="delete-warning">
                        <i class="bi bi-exclamation-triangle-fill"></i>
                        <div>
                            <strong>Warning!</strong>
                            <p class="mb-0">This action cannot be undone.</p>
                        </div>
                    </div>
                    <p>Are you sure you want to delete this car?</p>
                    <div id="deleteCarInfo"></div>
                    <input type="hidden" id="deleteCarId">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-cancel" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn-delete" onclick="confirmDeleteCar()">
                        <i class="bi bi-trash me-1"></i> Confirm Delete
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Tire Details Modal -->
    <div class="modal fade" id="tireDetailsModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5><i class="bi bi-info-circle-fill me-2"></i>Tire Details</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body" id="tireDetailsContent"></div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-cancel" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Add/Edit Tire Modal -->
    <div class="modal fade" id="tireFormModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 id="tireFormTitle"><i class="bi bi-plus-circle me-2"></i>Add New Tire</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="tireForm">
                        <input type="hidden" id="tireId">
                        <div class="row g-3">
                            <div class="col-md-6">
                                <label class="form-label">Brand <span class="text-danger">*</span></label>
                                <input type="text" class="form-control" id="tireBrand" required>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">Type <span class="text-danger">*</span></label>
                                <select class="form-select" id="tireType" required>
                                    <option value="">Select...</option>
                                    <option value="Summer">Summer</option>
                                    <option value="Winter">Winter</option>
                                    <option value="All-Season">All-Season</option>
                                    <option value="Performance">Performance</option>
                                </select>
                            </div>
                            <div class="col-md-4">
                                <label class="form-label">Width (mm) <span class="text-danger">*</span></label>
                                <input type="number" class="form-control" id="tireWidth" min="100" max="400" required>
                            </div>
                            <div class="col-md-4">
                                <label class="form-label">Height (%) <span class="text-danger">*</span></label>
                                <input type="number" class="form-control" id="tireHeight" min="30" max="90" required>
                            </div>
                            <div class="col-md-4">
                                <label class="form-label">Wheel (inches) <span class="text-danger">*</span></label>
                                <input type="number" class="form-control" id="tireWheel" min="13" max="24" required>
                            </div>
                            <div class="col-md-4">
                                <label class="form-label">Price ($) <span class="text-danger">*</span></label>
                                <input type="number" class="form-control" id="tirePrice" min="0" required>
                            </div>
                            <div class="col-md-4">
                                <label class="form-label">Load Index <span class="text-danger">*</span></label>
                                <input type="number" class="form-control" id="tireLoadIndex" min="60" max="130" required>
                            </div>
                            <div class="col-md-4">
                                <label class="form-label">Speed Rating <span class="text-danger">*</span></label>
                                <select class="form-select" id="tireSpeedRating" required>
                                    <option value="">Select...</option>
                                    <option value="H">H (210 km/h)</option>
                                    <option value="V">V (240 km/h)</option>
                                    <option value="W">W (270 km/h)</option>
                                    <option value="Y">Y (300 km/h)</option>
                                    <option value="Z">Z (240+ km/h)</option>
                                </select>
                            </div>
                            <div class="col-12">
                                <label class="form-label">Description</label>
                                <textarea class="form-control" id="tireDescription" rows="3"></textarea>
                            </div>
                            <div class="col-12">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="tireIsHot">
                                    <label class="form-check-label" for="tireIsHot">
                                        <i class="bi bi-fire text-danger"></i> Mark as Hot Deal
                                    </label>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-cancel" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-confirm" onclick="submitTireForm()">
                        <i class="bi bi-check-circle me-1"></i> Confirm
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Delete Tire Confirmation Modal -->
    <div class="modal fade delete-modal" id="deleteTireModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5><i class="bi bi-exclamation-triangle-fill me-2"></i>Delete Tire</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="delete-warning">
                        <i class="bi bi-exclamation-triangle-fill"></i>
                        <div>
                            <strong>Warning!</strong>
                            <p class="mb-0">This action cannot be undone.</p>
                        </div>
                    </div>
                    <p>Are you sure you want to delete this tire?</p>
                    <div id="deleteTireInfo"></div>
                    <input type="hidden" id="deleteTireId">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-cancel" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn-delete" onclick="confirmDeleteTire()">
                        <i class="bi bi-trash me-1"></i> Confirm Delete
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Custom JavaScript -->
    <script>
        let carsData = [];
        let tiresData = [];
        let filteredCars = [];
        let filteredTires = [];

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            loadData();
            renderCars();
            updateStats();
            initializeTooltips();
        });

        // Initialize Bootstrap tooltips
        function initializeTooltips() {
            const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
            tooltipTriggerList.map(function (tooltipTriggerEl) {
                return new bootstrap.Tooltip(tooltipTriggerEl);
            });
        }

        // Load data from localStorage
        function loadData() {
            carsData = JSON.parse(localStorage.getItem('cars')) || [];
            tiresData = JSON.parse(localStorage.getItem('tires')) || [];
            filteredCars = [...carsData];
            filteredTires = [...tiresData];
        }

        // Save data to localStorage
        function saveData() {
            localStorage.setItem('cars', JSON.stringify(carsData));
            localStorage.setItem('tires', JSON.stringify(tiresData));
        }

        // Update statistics
        function updateStats() {
            document.getElementById('totalCars').textContent = carsData.length;
            document.getElementById('hotCars').textContent = carsData.filter(car => car.isHot).length;
            document.getElementById('totalTires').textContent = tiresData.length;
            document.getElementById('hotTires').textContent = tiresData.filter(tire => tire.isHot).length;
        }

        // Switch between tabs
        function switchTab(tab) {
            const carsSection = document.getElementById('carsSection');
            const tiresSection = document.getElementById('tiresSection');
            const sidebarLinks = document.querySelectorAll('.sidebar-nav a');

            sidebarLinks.forEach(link => link.classList.remove('active'));

            if (tab === 'cars') {
                carsSection.style.display = 'block';
                tiresSection.style.display = 'none';
                sidebarLinks[0].classList.add('active');
                renderCars();
            } else if (tab === 'tires') {
                carsSection.style.display = 'none';
                tiresSection.style.display = 'block';
                sidebarLinks[1].classList.add('active');
                renderTires();
            }
        }

        // Filter cars
        function filterCars() {
            const searchTerm = document.getElementById('carsSearchInput').value.toLowerCase();
            filteredCars = carsData.filter(car => 
                car.brand.toLowerCase().includes(searchTerm) ||
                car.model.toLowerCase().includes(searchTerm) ||
                car.year.toString().includes(searchTerm) ||
                car.color.toLowerCase().includes(searchTerm)
            );
            renderCars();
        }

        // Filter tires
        function filterTires() {
            const searchTerm = document.getElementById('tiresSearchInput').value.toLowerCase();
            filteredTires = tiresData.filter(tire =>
                tire.brand.toLowerCase().includes(searchTerm) ||
                tire.type.toLowerCase().includes(searchTerm) ||
                tire.size.toLowerCase().includes(searchTerm)
            );
            renderTires();
        }

        // Render cars
        function renderCars() {
            const grid = document.getElementById('carsGrid');
            
            if (filteredCars.length === 0) {
                grid.innerHTML = `
                    <div class="no-items">
                        <i class="bi bi-car-front"></i>
                        <h4>No Cars Found</h4>
                        <p>Add your first car or adjust your search</p>
                    </div>
                `;
                return;
            }

            grid.innerHTML = '';
            filteredCars.forEach(car => {
                const card = document.createElement('div');
                card.className = 'item-admin-card';
                card.innerHTML = `
                    <div class="card-header-custom">
                        <i class="bi bi-car-front-fill"></i>
                    </div>
                    <div class="card-body-custom">
                        <h5>${car.year} ${car.brand} ${car.model} ${car.isHot ? '<span class="badge bg-danger"><i class="bi bi-fire"></i> Hot</span>' : ''}</h5>
                        <div class="item-price">$${car.price.toLocaleString()}</div>
                        <div class="item-info">
                            <div><i class="bi bi-speedometer2"></i> ${car.kilometers.toLocaleString()} km</div>
                            <div><i class="bi bi-palette"></i> ${car.color}</div>
                            <div><i class="bi bi-gear"></i> ${car.transmission}</div>
                            <div><i class="bi bi-fuel-pump"></i> ${car.fuelType}</div>
                        </div>
                        <div class="action-buttons">
                            <button class="btn-icon btn-view" onclick="viewCarDetails(${car.id})" 
                                data-bs-toggle="tooltip" title="View Details">
                                <i class="bi bi-eye-fill"></i>
                            </button>
                            <button class="btn-icon btn-edit" onclick="openEditCarModal(${car.id})" 
                                data-bs-toggle="tooltip" title="Edit">
                                <i class="bi bi-pencil-fill"></i>
                            </button>
                            <button class="btn-icon btn-delete" onclick="openDeleteCarModal(${car.id})" 
                                data-bs-toggle="tooltip" title="Delete">
                                <i class="bi bi-trash-fill"></i>
                            </button>
                        </div>
                    </div>
                `;
                grid.appendChild(card);
            });
            
            initializeTooltips();
        }

        // Render tires
        function renderTires() {
            const grid = document.getElementById('tiresGrid');
            
            if (filteredTires.length === 0) {
                grid.innerHTML = `
                    <div class="no-items">
                        <i class="bi bi-circle"></i>
                        <h4>No Tires Found</h4>
                        <p>Add your first tire or adjust your search</p>
                    </div>
                `;
                return;
            }

            grid.innerHTML = '';
            filteredTires.forEach(tire => {
                const card = document.createElement('div');
                card.className = 'item-admin-card';
                card.innerHTML = `
                    <div class="card-header-custom">
                        <i class="bi bi-circle-fill"></i>
                    </div>
                    <div class="card-body-custom">
                        <h5>${tire.brand} ${tire.type} ${tire.isHot ? '<span class="badge bg-danger"><i class="bi bi-fire"></i> Hot</span>' : ''}</h5>
                        <div class="item-price">$${tire.price}</div>
                        <div class="item-info">
                            <div><i class="bi bi-rulers"></i> Size: ${tire.size}</div>
                            <div><i class="bi bi-speedometer"></i> ${tire.loadIndex} ${tire.speedRating}</div>
                        </div>
                        <div class="action-buttons">
                            <button class="btn-icon btn-view" onclick="viewTireDetails(${tire.id})" 
                                data-bs-toggle="tooltip" title="View Details">
                                <i class="bi bi-eye-fill"></i>
                            </button>
                            <button class="btn-icon btn-edit" onclick="openEditTireModal(${tire.id})" 
                                data-bs-toggle="tooltip" title="Edit">
                                <i class="bi bi-pencil-fill"></i>
                            </button>
                            <button class="btn-icon btn-delete" onclick="openDeleteTireModal(${tire.id})" 
                                data-bs-toggle="tooltip" title="Delete">
                                <i class="bi bi-trash-fill"></i>
                            </button>
                        </div>
                    </div>
                `;
                grid.appendChild(card);
            });
            
            initializeTooltips();
        }

        // View car details
        function viewCarDetails(id) {
            const car = carsData.find(c => c.id === id);
            if (!car) return;

            const content = `
                <div class="detail-row">
                    <div class="detail-label">Brand:</div>
                    <div class="detail-value">${car.brand}</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Model:</div>
                    <div class="detail-value">${car.model}</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Year:</div>
                    <div class="detail-value">${car.year}</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Price:</div>
                    <div class="detail-value">$${car.price.toLocaleString()}</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Kilometers:</div>
                    <div class="detail-value">${car.kilometers.toLocaleString()} km</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Color:</div>
                    <div class="detail-value">${car.color}</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Transmission:</div>
                    <div class="detail-value">${car.transmission}</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Fuel Type:</div>
                    <div class="detail-value">${car.fuelType}</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Engine:</div>
                    <div class="detail-value">${car.engine}</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Description:</div>
                    <div class="detail-value">${car.description || 'N/A'}</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Hot Deal:</div>
                    <div class="detail-value">${car.isHot ? '<span class="badge bg-danger"><i class="bi bi-fire"></i> Yes</span>' : 'No'}</div>
                </div>
            `;

            document.getElementById('carDetailsContent').innerHTML = content;
            const modal = new bootstrap.Modal(document.getElementById('carDetailsModal'));
            modal.show();
        }

        // Open add car modal
        function openAddCarModal() {
            document.getElementById('carFormTitle').innerHTML = '<i class="bi bi-plus-circle me-2"></i>Add New Car';
            document.getElementById('carForm').reset();
            document.getElementById('carId').value = '';
            const modal = new bootstrap.Modal(document.getElementById('carFormModal'));
            modal.show();
        }

        // Open edit car modal
        function openEditCarModal(id) {
            const car = carsData.find(c => c.id === id);
            if (!car) return;

            document.getElementById('carFormTitle').innerHTML = '<i class="bi bi-pencil-fill me-2"></i>Edit Car';
            document.getElementById('carId').value = car.id;
            document.getElementById('carBrand').value = car.brand;
            document.getElementById('carModel').value = car.model;
            document.getElementById('carYear').value = car.year;
            document.getElementById('carPrice').value = car.price;
            document.getElementById('carKilometers').value = car.kilometers;
            document.getElementById('carColor').value = car.color;
            document.getElementById('carTransmission').value = car.transmission;
            document.getElementById('carFuelType').value = car.fuelType;
            document.getElementById('carEngine').value = car.engine;
            document.getElementById('carDescription').value = car.description || '';
            document.getElementById('carIsHot').checked = car.isHot || false;

            const modal = new bootstrap.Modal(document.getElementById('carFormModal'));
            modal.show();
        }

        // Submit car form
        function submitCarForm() {
            const form = document.getElementById('carForm');
            if (!form.checkValidity()) {
                form.reportValidity();
                return;
            }

            const id = document.getElementById('carId').value;
            const carData = {
                brand: document.getElementById('carBrand').value,
                model: document.getElementById('carModel').value,
                year: parseInt(document.getElementById('carYear').value),
                price: parseInt(document.getElementById('carPrice').value),
                kilometers: parseInt(document.getElementById('carKilometers').value),
                color: document.getElementById('carColor').value,
                transmission: document.getElementById('carTransmission').value,
                fuelType: document.getElementById('carFuelType').value,
                engine: document.getElementById('carEngine').value,
                description: document.getElementById('carDescription').value,
                isHot: document.getElementById('carIsHot').checked
            };

            if (id) {
                // Edit existing car
                const index = carsData.findIndex(c => c.id == id);
                if (index !== -1) {
                    carsData[index] = { ...carsData[index], ...carData };
                    showToast('Success', 'Car updated successfully!', 'success');
                }
            } else {
                // Add new car
                const newId = carsData.length > 0 ? Math.max(...carsData.map(c => c.id)) + 1 : 1;
                carsData.push({ id: newId, ...carData });
                showToast('Success', 'Car added successfully!', 'success');
            }

            saveData();
            filteredCars = [...carsData];
            renderCars();
            updateStats();
            
            const modal = bootstrap.Modal.getInstance(document.getElementById('carFormModal'));
            modal.hide();
        }

        // Open delete car modal
        function openDeleteCarModal(id) {
            const car = carsData.find(c => c.id === id);
            if (!car) return;

            document.getElementById('deleteCarId').value = id;
            document.getElementById('deleteCarInfo').innerHTML = `
                <p><strong>${car.year} ${car.brand} ${car.model}</strong></p>
                <p>Price: $${car.price.toLocaleString()}</p>
            `;

            const modal = new bootstrap.Modal(document.getElementById('deleteCarModal'));
            modal.show();
        }

        // Confirm delete car
        function confirmDeleteCar() {
            const id = parseInt(document.getElementById('deleteCarId').value);
            const index = carsData.findIndex(c => c.id === id);
            
            if (index !== -1) {
                carsData.splice(index, 1);
                saveData();
                filteredCars = [...carsData];
                renderCars();
                updateStats();
                showToast('Success', 'Car deleted successfully!', 'success');
            }

            const modal = bootstrap.Modal.getInstance(document.getElementById('deleteCarModal'));
            modal.hide();
        }

        // View tire details
        function viewTireDetails(id) {
            const tire = tiresData.find(t => t.id === id);
            if (!tire) return;

            const content = `
                <div class="detail-row">
                    <div class="detail-label">Brand:</div>
                    <div class="detail-value">${tire.brand}</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Type:</div>
                    <div class="detail-value">${tire.type}</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Size:</div>
                    <div class="detail-value">${tire.size}</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Width:</div>
                    <div class="detail-value">${tire.width} mm</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Height:</div>
                    <div class="detail-value">${tire.height}%</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Wheel:</div>
                    <div class="detail-value">${tire.wheel}"</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Price:</div>
                    <div class="detail-value">$${tire.price}</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Load Index:</div>
                    <div class="detail-value">${tire.loadIndex}</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Speed Rating:</div>
                    <div class="detail-value">${tire.speedRating}</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Description:</div>
                    <div class="detail-value">${tire.description || 'N/A'}</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Hot Deal:</div>
                    <div class="detail-value">${tire.isHot ? '<span class="badge bg-danger"><i class="bi bi-fire"></i> Yes</span>' : 'No'}</div>
                </div>
            `;

            document.getElementById('tireDetailsContent').innerHTML = content;
            const modal = new bootstrap.Modal(document.getElementById('tireDetailsModal'));
            modal.show();
        }

        // Open add tire modal
        function openAddTireModal() {
            document.getElementById('tireFormTitle').innerHTML = '<i class="bi bi-plus-circle me-2"></i>Add New Tire';
            document.getElementById('tireForm').reset();
            document.getElementById('tireId').value = '';
            const modal = new bootstrap.Modal(document.getElementById('tireFormModal'));
            modal.show();
        }

        // Open edit tire modal
        function openEditTireModal(id) {
            const tire = tiresData.find(t => t.id === id);
            if (!tire) return;

            document.getElementById('tireFormTitle').innerHTML = '<i class="bi bi-pencil-fill me-2"></i>Edit Tire';
            document.getElementById('tireId').value = tire.id;
            document.getElementById('tireBrand').value = tire.brand;
            document.getElementById('tireType').value = tire.type;
            document.getElementById('tireWidth').value = tire.width;
            document.getElementById('tireHeight').value = tire.height;
            document.getElementById('tireWheel').value = tire.wheel;
            document.getElementById('tirePrice').value = tire.price;
            document.getElementById('tireLoadIndex').value = tire.loadIndex;
            document.getElementById('tireSpeedRating').value = tire.speedRating;
            document.getElementById('tireDescription').value = tire.description || '';
            document.getElementById('tireIsHot').checked = tire.isHot || false;

            const modal = new bootstrap.Modal(document.getElementById('tireFormModal'));
            modal.show();
        }

        // Submit tire form
        function submitTireForm() {
            const form = document.getElementById('tireForm');
            if (!form.checkValidity()) {
                form.reportValidity();
                return;
            }

            const id = document.getElementById('tireId').value;
            const width = parseInt(document.getElementById('tireWidth').value);
            const height = parseInt(document.getElementById('tireHeight').value);
            const wheel = parseInt(document.getElementById('tireWheel').value);
            
            const tireData = {
                brand: document.getElementById('tireBrand').value,
                type: document.getElementById('tireType').value,
                width: width,
                height: height,
                wheel: wheel,
                size: `${width}/${height}R${wheel}`,
                price: parseInt(document.getElementById('tirePrice').value),
                loadIndex: parseInt(document.getElementById('tireLoadIndex').value),
                speedRating: document.getElementById('tireSpeedRating').value,
                description: document.getElementById('tireDescription').value,
                isHot: document.getElementById('tireIsHot').checked
            };

            if (id) {
                // Edit existing tire
                const index = tiresData.findIndex(t => t.id == id);
                if (index !== -1) {
                    tiresData[index] = { ...tiresData[index], ...tireData };
                    showToast('Success', 'Tire updated successfully!', 'success');
                }
            } else {
                // Add new tire
                const newId = tiresData.length > 0 ? Math.max(...tiresData.map(t => t.id)) + 1 : 1;
                tiresData.push({ id: newId, ...tireData });
                showToast('Success', 'Tire added successfully!', 'success');
            }

            saveData();
            filteredTires = [...tiresData];
            renderTires();
            updateStats();
            
            const modal = bootstrap.Modal.getInstance(document.getElementById('tireFormModal'));
            modal.hide();
        }

        // Open delete tire modal
        function openDeleteTireModal(id) {
            const tire = tiresData.find(t => t.id === id);
            if (!tire) return;

            document.getElementById('deleteTireId').value = id;
            document.getElementById('deleteTireInfo').innerHTML = `
                <p><strong>${tire.brand} ${tire.type}</strong></p>
                <p>Size: ${tire.size} | Price: $${tire.price}</p>
            `;

            const modal = new bootstrap.Modal(document.getElementById('deleteTireModal'));
            modal.show();
        }

        // Confirm delete tire
        function confirmDeleteTire() {
            const id = parseInt(document.getElementById('deleteTireId').value);
            const index = tiresData.findIndex(t => t.id === id);
            
            if (index !== -1) {
                tiresData.splice(index, 1);
                saveData();
                filteredTires = [...tiresData];
                renderTires();
                updateStats();
                showToast('Success', 'Tire deleted successfully!', 'success');
            }

            const modal = bootstrap.Modal.getInstance(document.getElementById('deleteTireModal'));
            modal.hide();
        }

        // Show toast notification
        function showToast(title, message, type = 'info') {
            const toastId = 'toast_' + Date.now();
            const toastHTML = `
                <div class="toast toast-${type}" role="alert" id="${toastId}">
                    <div class="toast-header">
                        <i class="bi bi-${type === 'success' ? 'check-circle-fill' : type === 'danger' ? 'x-circle-fill' : 'info-circle-fill'} me-2"></i>
                        <strong class="me-auto">${title}</strong>
                        <button type="button" class="btn-close" data-bs-dismiss="toast"></button>
                    </div>
                    <div class="toast-body">
                        ${message}
                    </div>
                </div>
            `;

            const container = document.getElementById('toastContainer');
            container.insertAdjacentHTML('beforeend', toastHTML);

            const toastElement = document.getElementById(toastId);
            const toast = new bootstrap.Toast(toastElement, { delay: 3000 });
            toast.show();

            toastElement.addEventListener('hidden.bs.toast', function() {
                toastElement.remove();
            });
        }
    </script>
</body>
</html>